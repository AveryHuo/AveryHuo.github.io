<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="utf-8">
  <title>LUAä¸CSHARPäº¤äº’ | Averyçš„åŸå ¡</title>
  <meta name="keywords" content>
  <meta name="description" content="LUAä¸CSHARPäº¤äº’ | Averyçš„åŸå ¡">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="description" content="è¿™æ˜¯å…³äºæˆ‘ï¼Œæœ‰ç©ºå†åŠ å§">
<meta name="keywords" content="Learn+Study">
<meta property="og:type" content="website">
<meta property="og:title" content="about">
<meta property="og:url" content="http://www.hjp.wiki/about/index.html">
<meta property="og:site_name" content="Averyçš„åŸå ¡">
<meta property="og:description" content="è¿™æ˜¯å…³äºæˆ‘ï¼Œæœ‰ç©ºå†åŠ å§">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2020-09-08T03:23:20.891Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="about">
<meta name="twitter:description" content="è¿™æ˜¯å…³äºæˆ‘ï¼Œæœ‰ç©ºå†åŠ å§">


<link rel="icon" href="/img/my.jpg">

<link href="/css/style.css?v=1.1.0" rel="stylesheet">

<link href="/css/hl_theme/atom-dark.css?v=1.1.0" rel="stylesheet">

<link href="//cdn.jsdelivr.net/npm/animate.css@4.1.0/animate.min.css" rel="stylesheet">

<script src="//cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script src="/js/titleTip.js?v=1.1.0"></script>

<script src="//cdn.jsdelivr.net/npm/highlightjs@9.16.2/highlight.pack.min.js"></script>
<script>
    hljs.initHighlightingOnLoad();
</script>

<script src="//cdn.jsdelivr.net/npm/nprogress@0.2.0/nprogress.min.js"></script>



<script src="/js/iconfont.js?v=1.1.0"></script>

</head>
<div style="display: none">
  <input class="theme_disqus_on" value="false">
  <input class="theme_preload_comment" value="true">
  <input class="theme_blog_path" value>
  <input id="theme_shortcut" value="true">
  <input id="theme_highlight_on" value="true">
  <input id="theme_code_copy" value="true">
</div>



<body>
<aside class="nav">
    <div class="nav-left">
        <a href="/" class="avatar_target">
    <img class="avatar" src="/img/my.jpeg" />
</a>
<div class="author">
    <span>éœå®¶é¹</span>
</div>

<div class="icon">
    
        
    
        
        <a title="github" href="https://github.com/AveryHuo" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-github"></use>
                </svg>
            
        </a>
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
        <a title="jianshu" href="https://www.jianshu.com/u/96df2dd41ded" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-jianshu"></use>
                </svg>
            
        </a>
        
    
        
        <a title="zhihu" href="https://www.zhihu.com/people/alvinxiao-peng" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-zhihu"></use>
                </svg>
            
        </a>
        
    
        
    
        
        <a title="oschina" href="https://my.oschina.net/u/138823" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-oschina"></use>
                </svg>
            
        </a>
        
    
        
    
        
        <a title="email" href="mailto:1024037035@qq.com" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-email"></use>
                </svg>
            
        </a>
        
    
        
        <a title="qq" href="http://wpa.qq.com/msgrd?v=3&uin=1024037035&site=qq&menu=yes" target="_blank">
            
                <svg class="iconfont-svg" aria-hidden="true">
                    <use xlink:href="#icon-qq"></use>
                </svg>
            
        </a>
        
    
        
    
        
    
</div>




<ul>
    <li><div class="all active" data-rel="All">All<small>(80)</small></div></li>
    
        
            
            <li><div data-rel="ITé˜…è¯»">ITé˜…è¯»<small>(5)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="Unity">Unity<small>(18)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="æ•°æ®ç»“æ„">æ•°æ®ç»“æ„<small>(4)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="æ•°å­¦">æ•°å­¦<small>(1)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="ç®—æ³•">ç®—æ³•<small>(5)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="å›¾å½¢å­¦">å›¾å½¢å­¦<small>(2)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="CPlusPlus">CPlusPlus<small>(3)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="Python">Python<small>(17)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="Unityå­¦ä¹ ">Unityå­¦ä¹ <small>(7)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="è‹±è¯­å­¦ä¹ ">è‹±è¯­å­¦ä¹ <small>(9)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="æ‚é¡¹èµ„æ–™">æ‚é¡¹èµ„æ–™<small>(1)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="å…¬å¸">å…¬å¸<small>(4)</small></div>
                
            </li>
            
        
    
        
            
            <li><div data-rel="å·¥ä½œç›¸å…³">å·¥ä½œç›¸å…³<small>(2)</small></div>
                
            </li>
            
        
    
</ul>
<div class="left-bottom">
    <div class="menus">
    
    
    
    
    </div>
    <div><a class="about  hasFriend  site_url"  href="/about">About</a><a style="width: 50%"  class="friends">Friends</a></div>
</div>
<input type="hidden" id="yelog_site_posts_number" value="80">
<input type="hidden" id="yelog_site_word_count" value="105.2k">
<div style="display: none">
    <span id="busuanzi_value_site_uv"></span>
    <span id="busuanzi_value_site_pv"></span>
</div>

    </div>
    <div class="nav-right">
        <div class="friends-area">
    <div class="friends-title">
        Links
        <i class="iconfont icon-left"></i>
    </div>
    <div class="friends-content">
        <ul>
            
            <li><a target="_blank" href="http://yelog.org/">å¶è½é˜</a></li>
            
        </ul>
    </div>
</div>
        <div class="title-list">
    <div class="right-top">
        <div id="default-panel">
            <i class="iconfont icon-search" data-title="æœç´¢ å¿«æ·é”® i"></i>
            <div class="right-title">All</div>
            <i class="iconfont icon-file-tree" data-title="åˆ‡æ¢åˆ°å¤§çº²è§†å›¾ å¿«æ·é”® w"></i>
        </div>
        <div id="search-panel">
            <i class="iconfont icon-left" data-title="è¿”å›"></i>
            <input id="local-search-input" />
            <label class="border-line" for="input"></label>
            <i class="iconfont icon-case-sensitive" data-title="å¤§å°å†™æ•æ„Ÿ"></i>
            <i class="iconfont icon-tag" data-title="æ ‡ç­¾"></i>
        </div>
        <div id="outline-panel" style="display: none">
            <div class="right-title">å¤§çº²</div>
            <i class="iconfont icon-list" data-title="åˆ‡æ¢åˆ°æ–‡ç« åˆ—è¡¨"></i>
        </div>
    </div>

    <div class="tags-list">
    <input id="tag-search" />
    <div class="tag-wrapper">
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>å®ä¾‹</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>å›¾å½¢å­¦</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>æŒ‡ä»¤</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>C++</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>CI</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Conda</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Core Programming</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Django</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>English</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Game</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Git</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Jenkins</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>linux</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Note</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Python</a>
            </li>
        
            <li class="article-tag-list-item">
                <i class="iconfont icon-tag"></i><a>Unityå­¦ä¹ </a>
            </li>
        
    </div>

</div>

    
    <div id="local-search-result">

    </div>
    
    <nav id="title-list-nav">
        
        <a  class="All Python "
           href="/2021/02/26/PythonçŸ¥è¯†æ±‡æ€»1/"
           data-tag="Python,Note"
           data-author="" >
            <span class="post-title" title="PythonçŸ¥è¯†æ±‡æ€»1">PythonçŸ¥è¯†æ±‡æ€»1</span>
            <span class="post-date" title="2021-02-26 11:56:02">2021/02/26</span>
        </a>
        
        <a  class="All Unity "
           href="/2020/12/26/è´å¡å°”æ›²çº¿/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="è´å¡å°”æ›²çº¿">è´å¡å°”æ›²çº¿</span>
            <span class="post-date" title="2020-12-26 17:16:48">2020/12/26</span>
        </a>
        
        <a  class="All Unity "
           href="/2020/12/26/CSHARPçš„å†…ç½®å¼•ç”¨ç±»å‹/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="CSHARPçš„å†…ç½®å¼•ç”¨ç±»å‹">CSHARPçš„å†…ç½®å¼•ç”¨ç±»å‹</span>
            <span class="post-date" title="2020-12-26 17:16:48">2020/12/26</span>
        </a>
        
        <a  class="All Unity "
           href="/2020/12/26/LUAä¸CSHARPäº¤äº’/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="LUAä¸CSHARPäº¤äº’">LUAä¸CSHARPäº¤äº’</span>
            <span class="post-date" title="2020-12-26 17:16:48">2020/12/26</span>
        </a>
        
        <a  class="All Unity "
           href="/2020/12/23/CSHARPçš„GC/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="CSHARPçš„GC">CSHARPçš„GC</span>
            <span class="post-date" title="2020-12-23 14:46:38">2020/12/23</span>
        </a>
        
        <a  class="All Unity "
           href="/2020/12/23/CSHARPçš„ç¼–è¯‘å™¨/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="CSHARPçš„ç¼–è¯‘å™¨">CSHARPçš„ç¼–è¯‘å™¨</span>
            <span class="post-date" title="2020-12-23 14:46:38">2020/12/23</span>
        </a>
        
        <a  class="All Unity "
           href="/2020/12/23/CSHARPçš„Dictionary/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="CSHARPçš„Dictionary">CSHARPçš„Dictionary</span>
            <span class="post-date" title="2020-12-23 14:46:38">2020/12/23</span>
        </a>
        
        <a  class="All Unity "
           href="/2020/12/23/Luaæºç ç ”ç©¶/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Luaæºç ç ”ç©¶">Luaæºç ç ”ç©¶</span>
            <span class="post-date" title="2020-12-23 11:45:06">2020/12/23</span>
        </a>
        
        <a  class="All Unity "
           href="/2020/12/23/Luaæºç ç¼–è¯‘æµç¨‹/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Luaæºç ç¼–è¯‘æµç¨‹">Luaæºç ç¼–è¯‘æµç¨‹</span>
            <span class="post-date" title="2020-12-23 11:45:06">2020/12/23</span>
        </a>
        
        <a  class="All Unity "
           href="/2020/12/22/åŸºäºç‰©ç†çš„æ¸²æŸ“-PBR/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="åŸºäºç‰©ç†çš„æ¸²æŸ“-PBR">åŸºäºç‰©ç†çš„æ¸²æŸ“-PBR</span>
            <span class="post-date" title="2020-12-22 12:22:00">2020/12/22</span>
        </a>
        
        <a  class="All Unity "
           href="/2020/12/18/éª¨éª¼è’™çš®åŠ¨ç”»(SkinnedMesh)çš„åŸç†è§£æ/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="éª¨éª¼è’™çš®åŠ¨ç”»(SkinnedMesh)çš„åŸç†è§£æ">éª¨éª¼è’™çš®åŠ¨ç”»(SkinnedMesh)çš„åŸç†è§£æ</span>
            <span class="post-date" title="2020-12-18 12:25:18">2020/12/18</span>
        </a>
        
        <a  class="All Unityå­¦ä¹  "
           href="/2020/12/18/ECSSamplesç ”ç©¶/"
           data-tag="Unityå­¦ä¹ "
           data-author="" >
            <span class="post-title" title="ECSSamplesç ”ç©¶">ECSSamplesç ”ç©¶</span>
            <span class="post-date" title="2020-12-18 12:25:18">2020/12/18</span>
        </a>
        
        <a  class="All Unity "
           href="/2020/12/18/Unityå†…å­˜å‰–æ/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Unityå†…å­˜å‰–æ">Unityå†…å­˜å‰–æ</span>
            <span class="post-date" title="2020-12-18 12:25:18">2020/12/18</span>
        </a>
        
        <a  class="All Unityå­¦ä¹  "
           href="/2020/11/18/è…¾è®¯äº‘å¼€å‘-ä½¿ç”¨Unityå¼€å‘æœåŠ¡å™¨é€»è¾‘å¹¶è‡ªåŠ¨éƒ¨ç½²/"
           data-tag="Unityå­¦ä¹ "
           data-author="" >
            <span class="post-title" title="è…¾è®¯äº‘å¼€å‘-ä½¿ç”¨Unityå¼€å‘æœåŠ¡å™¨é€»è¾‘å¹¶è‡ªåŠ¨éƒ¨ç½²">è…¾è®¯äº‘å¼€å‘-ä½¿ç”¨Unityå¼€å‘æœåŠ¡å™¨é€»è¾‘å¹¶è‡ªåŠ¨éƒ¨ç½²</span>
            <span class="post-date" title="2020-11-18 21:32:05">2020/11/18</span>
        </a>
        
        <a  class="All Unityå­¦ä¹  "
           href="/2020/11/18/PlayableåŠ¨ç”»ç³»ç»Ÿç ”ç©¶/"
           data-tag="Unityå­¦ä¹ "
           data-author="" >
            <span class="post-title" title="PlayableåŠ¨ç”»ç³»ç»Ÿç ”ç©¶">PlayableåŠ¨ç”»ç³»ç»Ÿç ”ç©¶</span>
            <span class="post-date" title="2020-11-18 18:30:28">2020/11/18</span>
        </a>
        
        <a  class="All ç®—æ³• "
           href="/2020/11/05/åŠ›æ‰£åˆ·é¢˜è®°å½•/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="åŠ›æ‰£åˆ·é¢˜è®°å½•">åŠ›æ‰£åˆ·é¢˜è®°å½•</span>
            <span class="post-date" title="2020-11-05 20:26:18">2020/11/05</span>
        </a>
        
        <a  class="All ITé˜…è¯» "
           href="/2020/10/15/GEA-P4/"
           data-tag="Game"
           data-author="" >
            <span class="post-title" title="GEA-P4">GEA-P4</span>
            <span class="post-date" title="2020-10-15 20:46:56">2020/10/15</span>
        </a>
        
        <a  class="All ITé˜…è¯» "
           href="/2020/10/15/GEA-P3/"
           data-tag="Game"
           data-author="" >
            <span class="post-title" title="GEA-P3">GEA-P3</span>
            <span class="post-date" title="2020-10-15 20:46:56">2020/10/15</span>
        </a>
        
        <a  class="All ITé˜…è¯» "
           href="/2020/10/15/GEA-P2/"
           data-tag="Game"
           data-author="" >
            <span class="post-title" title="GEA-P2">GEA-P2</span>
            <span class="post-date" title="2020-10-15 20:46:56">2020/10/15</span>
        </a>
        
        <a  class="All å›¾å½¢å­¦ "
           href="/2020/09/27/è®¡ç®—æœºå›¾å½¢å­¦ç¼–ç¨‹ç¬”è®°2/"
           data-tag="å›¾å½¢å­¦"
           data-author="" >
            <span class="post-title" title="è®¡ç®—æœºå›¾å½¢å­¦ç¼–ç¨‹ç¬”è®°2">è®¡ç®—æœºå›¾å½¢å­¦ç¼–ç¨‹ç¬”è®°2</span>
            <span class="post-date" title="2020-09-27 18:19:22">2020/09/27</span>
        </a>
        
        <a  class="All Python "
           href="/2020/09/27/Python æ‚é¡¹/"
           data-tag="Python,Note"
           data-author="" >
            <span class="post-title" title="Python æ‚é¡¹">Python æ‚é¡¹</span>
            <span class="post-date" title="2020-09-27 12:18:01">2020/09/27</span>
        </a>
        
        <a  class="All å·¥ä½œç›¸å…³ "
           href="/2020/09/22/Addressableæ‰“åŒ…æµç¨‹/"
           data-tag="CI"
           data-author="" >
            <span class="post-title" title="Addressableæ‰“åŒ…æµç¨‹">Addressableæ‰“åŒ…æµç¨‹</span>
            <span class="post-date" title="2020-09-22 21:20:32">2020/09/22</span>
        </a>
        
        <a  class="All ITé˜…è¯» "
           href="/2020/09/09/IT-English/"
           data-tag="Game,English"
           data-author="" >
            <span class="post-title" title="Game Engine Architecture - English">Game Engine Architecture - English</span>
            <span class="post-date" title="2020-09-09 10:46:51">2020/09/09</span>
        </a>
        
        <a  class="All ITé˜…è¯» "
           href="/2020/09/09/GEA-P1/"
           data-tag="Game"
           data-author="" >
            <span class="post-title" title="GEA-P1">GEA-P1</span>
            <span class="post-date" title="2020-09-09 10:46:51">2020/09/09</span>
        </a>
        
        <a  class="All Unityå­¦ä¹  "
           href="/2020/09/08/Addressable ç ”ç©¶/"
           data-tag="Unityå­¦ä¹ "
           data-author="" >
            <span class="post-title" title="Addressable ç ”ç©¶">Addressable ç ”ç©¶</span>
            <span class="post-date" title="2020-09-08 14:59:26">2020/09/08</span>
        </a>
        
        <a  class="All æ•°æ®ç»“æ„ "
           href="/2020/09/08/æ•°æ®ç»“æ„-æ•°ç»„é“¾è¡¨ç»“æ„/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="æ•°æ®ç»“æ„-æ•°ç»„,é“¾è¡¨ç»“æ„">æ•°æ®ç»“æ„-æ•°ç»„,é“¾è¡¨ç»“æ„</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All æ•°æ®ç»“æ„ "
           href="/2020/09/08/æ’åºç®—æ³•/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="æ’åºç®—æ³•">æ’åºç®—æ³•</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All Unity "
           href="/2020/09/08/æ€§èƒ½ä¼˜åŒ–ç›¸å…³/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="æ€§èƒ½ä¼˜åŒ–ç›¸å…³">æ€§èƒ½ä¼˜åŒ–ç›¸å…³</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All å…¬å¸ "
           href="/2020/09/08/æœ€æ–°Addressableèµ„æºæ‰“åŒ…ä¸åŠ è½½æ¡†æ¶/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="æœ€æ–°Addressableèµ„æºæ‰“åŒ…ä¸åŠ è½½æ¡†æ¶">æœ€æ–°Addressableèµ„æºæ‰“åŒ…ä¸åŠ è½½æ¡†æ¶</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All æ•°æ®ç»“æ„ "
           href="/2020/09/08/æ•°æ®ç»“æ„-ç¬”è®°1/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="æ•°æ®ç»“æ„-å›¾">æ•°æ®ç»“æ„-å›¾</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All Unity "
           href="/2020/09/08/æ•°æ®ç»“æ„åœ¨Charp/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="æ•°æ®ç»“æ„åœ¨C#">æ•°æ®ç»“æ„åœ¨C#</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All ç®—æ³• "
           href="/2020/09/08/æ·±åº¦ä¼˜å…ˆä¸å¹¿åº¦ä¼˜å…ˆç®—æ³•/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="æ·±åº¦ä¼˜å…ˆä¸å¹¿åº¦ä¼˜å…ˆç®—æ³•">æ·±åº¦ä¼˜å…ˆä¸å¹¿åº¦ä¼˜å…ˆç®—æ³•</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All å›¾å½¢å­¦ "
           href="/2020/09/08/è®¡ç®—æœºå›¾å½¢å­¦ç¼–ç¨‹ç¬”è®°1/"
           data-tag="å›¾å½¢å­¦"
           data-author="" >
            <span class="post-title" title="è®¡ç®—æœºå›¾å½¢å­¦ç¼–ç¨‹ç¬”è®°1">è®¡ç®—æœºå›¾å½¢å­¦ç¼–ç¨‹ç¬”è®°1</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All ç®—æ³• "
           href="/2020/09/08/ç®—æ³•è¯¾ç¨‹ç¬”è®°1/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Courseraç®—æ³•è¯¾ç¬”è®°1">Courseraç®—æ³•è¯¾ç¬”è®°1</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All æ•°å­¦ "
           href="/2020/09/08/çº¿æ€§ä»£æ•°-ç¬”è®°1/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="çº¿æ€§ä»£æ•°-ç¬”è®°1">çº¿æ€§ä»£æ•°-ç¬”è®°1</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All æ•°æ®ç»“æ„ "
           href="/2020/09/08/é€’å½’ç®—æ³•/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="é€’å½’ç®—æ³•">é€’å½’ç®—æ³•</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All å…¬å¸ "
           href="/2020/09/08/å®¢æˆ·ç«¯æ›´æ¢GitæŒ‡å—/"
           data-tag="Git"
           data-author="" >
            <span class="post-title" title="å®¢æˆ·ç«¯æ›´æ¢GitæŒ‡å—">å®¢æˆ·ç«¯æ›´æ¢GitæŒ‡å—</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All Python "
           href="/2020/09/08/å¤©å¤©ç”Ÿé²œé¡¹ç›®å®ä¾‹/"
           data-tag="Python,Note,Django,å®ä¾‹"
           data-author="" >
            <span class="post-title" title="å¤©å¤©ç”Ÿé²œé¡¹ç›®å®ä¾‹P1">å¤©å¤©ç”Ÿé²œé¡¹ç›®å®ä¾‹P1</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All Python "
           href="/2020/09/08/å¤©å¤©ç”Ÿé²œé¡¹ç›®å®ä¾‹P2/"
           data-tag="Python,Note,Django,å®ä¾‹"
           data-author="" >
            <span class="post-title" title="å¤©å¤©ç”Ÿé²œé¡¹ç›®å®ä¾‹P2">å¤©å¤©ç”Ÿé²œé¡¹ç›®å®ä¾‹P2</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All è‹±è¯­å­¦ä¹  "
           href="/2020/09/08/å¼€è¨€_Bargaining in the market/"
           data-tag="Note,English"
           data-author="" >
            <span class="post-title" title="å¼€è¨€_Bargaining in the market">å¼€è¨€_Bargaining in the market</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All è‹±è¯­å­¦ä¹  "
           href="/2020/09/08/å¼€è¨€_Happy Hour Drinks with Coworks/"
           data-tag="Note,English"
           data-author="" >
            <span class="post-title" title="å¼€è¨€_Happy Hour Drinks with Coworks">å¼€è¨€_Happy Hour Drinks with Coworks</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All è‹±è¯­å­¦ä¹  "
           href="/2020/09/08/å¼€è¨€- To tip or not to tip/"
           data-tag="Note,English"
           data-author="" >
            <span class="post-title" title="å¼€è¨€">å¼€è¨€</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All è‹±è¯­å­¦ä¹  "
           href="/2020/09/08/å¸¸ç”¨å•è¯å­¦ä¹ /"
           data-tag="Note,English"
           data-author="" >
            <span class="post-title" title="å¸¸ç”¨å•è¯å­¦ä¹ ">å¸¸ç”¨å•è¯å­¦ä¹ </span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All è‹±è¯­å­¦ä¹  "
           href="/2020/09/08/å¼€è¨€ä½“éªŒè¥ - Day1/"
           data-tag="Note,English"
           data-author="" >
            <span class="post-title" title="å¼€è¨€ä½“éªŒè¥ - Day1">å¼€è¨€ä½“éªŒè¥ - Day1</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All è‹±è¯­å­¦ä¹  "
           href="/2020/09/08/å¼€è¨€ä½“éªŒè¥ - Day4/"
           data-tag="Note,English"
           data-author="" >
            <span class="post-title" title="å¼€è¨€ä½“éªŒè¥ - Day4">å¼€è¨€ä½“éªŒè¥ - Day4</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All è‹±è¯­å­¦ä¹  "
           href="/2020/09/08/å¼€è¨€ä½“éªŒè¥ - Day2/"
           data-tag="Note,English"
           data-author="" >
            <span class="post-title" title="å¼€è¨€ä½“éªŒè¥ - Day2">å¼€è¨€ä½“éªŒè¥ - Day2</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All è‹±è¯­å­¦ä¹  "
           href="/2020/09/08/å¼€è¨€ä½“éªŒè¥ - Day5/"
           data-tag="Note,English"
           data-author="" >
            <span class="post-title" title="å¼€è¨€ä½“éªŒè¥ - Day5">å¼€è¨€ä½“éªŒè¥ - Day5</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All è‹±è¯­å­¦ä¹  "
           href="/2020/09/08/å¼€è¨€å­¦ä¹ ç¬”è®°1/"
           data-tag="Note,English"
           data-author="" >
            <span class="post-title" title="å¼€è¨€å­¦ä¹ ç¬”è®°1">å¼€è¨€å­¦ä¹ ç¬”è®°1</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All Python "
           href="/2020/09/08/python_2/"
           data-tag="Python,Note"
           data-author="" >
            <span class="post-title" title="Python Note 2">Python Note 2</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All Python "
           href="/2020/09/08/python_1/"
           data-tag="Python,Note"
           data-author="" >
            <span class="post-title" title="Python Note 1">Python Note 1</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All ç®—æ³• "
           href="/2020/09/08/åŠ¨æ€è§„åˆ’/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="åŠ¨æ€è§„åˆ’">åŠ¨æ€è§„åˆ’</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All Unityå­¦ä¹  "
           href="/2020/09/08/å†…å­˜ç®¡ç†/"
           data-tag="Unityå­¦ä¹ "
           data-author="" >
            <span class="post-title" title="å†…å­˜ç®¡ç†">å†…å­˜ç®¡ç†</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All ç®—æ³• "
           href="/2020/09/08/åŠ›æ‰£åˆ·é¢˜é¡ºåº/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="åŠ›æ‰£åˆ·é¢˜é¡ºåº">åŠ›æ‰£åˆ·é¢˜é¡ºåº</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All Python "
           href="/2020/09/08/python_4/"
           data-tag="Python,Note"
           data-author="" >
            <span class="post-title" title="Python Note 4">Python Note 4</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All Unityå­¦ä¹  "
           href="/2020/09/08/å››å…ƒæ•°æ—‹è½¬å‡½æ•°å­¦ä¹ /"
           data-tag="Unityå­¦ä¹ "
           data-author="" >
            <span class="post-title" title="å››å…ƒæ•°æ—‹è½¬å‡½æ•°å­¦ä¹ ">å››å…ƒæ•°æ—‹è½¬å‡½æ•°å­¦ä¹ </span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All å…¬å¸ "
           href="/2020/09/08/UIç³»ç»Ÿåˆ¶ä½œæµç¨‹/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="UIç³»ç»Ÿåˆ¶ä½œæµç¨‹">UIç³»ç»Ÿåˆ¶ä½œæµç¨‹</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All Python "
           href="/2020/09/08/Twisted  ä»‹ç»/"
           data-tag="Python,Note,Core Programming"
           data-author="" >
            <span class="post-title" title="Twisted  ä»‹ç»">Twisted  ä»‹ç»</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All æ‚é¡¹èµ„æ–™ "
           href="/2020/09/08/VS Codeæœ€ä½³æ’ä»¶/"
           data-tag="Note"
           data-author="" >
            <span class="post-title" title="VS Codeæœ€ä½³æ’ä»¶">VS Codeæœ€ä½³æ’ä»¶</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All "
           href="/2020/09/08/hello-world/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Hello World">Hello World</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All Unityå­¦ä¹  "
           href="/2020/09/08/LWRPå®˜æ–¹è¯´æ˜/"
           data-tag="Unityå­¦ä¹ "
           data-author="" >
            <span class="post-title" title="LWRPå®˜æ–¹è¯´æ˜">LWRPå®˜æ–¹è¯´æ˜</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All "
           href="/2020/09/08/Linuxä¸windowå¸¸ç”¨æŒ‡ä»¤/"
           data-tag="linux,æŒ‡ä»¤"
           data-author="" >
            <span class="post-title" title="Linuxä¸windowå¸¸ç”¨æŒ‡ä»¤">Linuxä¸windowå¸¸ç”¨æŒ‡ä»¤</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All Python "
           href="/2020/09/08/Python Core Programming Note 1/"
           data-tag="Python,Note,Core Programming"
           data-author="" >
            <span class="post-title" title="Python Core Programming Note 1">Python Core Programming Note 1</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All å·¥ä½œç›¸å…³ "
           href="/2020/09/08/Jenkinsæ‰“åŒ…äº‹é¡¹/"
           data-tag="CI,Jenkins"
           data-author="" >
            <span class="post-title" title="Jenkinsæ‰“åŒ…äº‹é¡¹">Jenkinsæ‰“åŒ…äº‹é¡¹</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All Python "
           href="/2020/09/08/Python Core Programming Note 3/"
           data-tag="Python,Note,Core Programming"
           data-author="" >
            <span class="post-title" title="Python Core Programming Note 3">Python Core Programming Note 3</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All Python "
           href="/2020/09/08/Python Core Programming Note 2/"
           data-tag="Python,Note,Core Programming"
           data-author="" >
            <span class="post-title" title="Python Core Programming Note 2">Python Core Programming Note 2</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All Python "
           href="/2020/09/08/Python_3/"
           data-tag="Python,Note"
           data-author="" >
            <span class="post-title" title="Python Note 3">Python Note 3</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All å…¬å¸ "
           href="/2020/09/08/Smargit  ç®€å•ä½¿ç”¨è¯´æ˜/"
           data-tag="Git"
           data-author="" >
            <span class="post-title" title="Smargit  ç®€å•ä½¿ç”¨è¯´æ˜">Smargit  ç®€å•ä½¿ç”¨è¯´æ˜</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All Unity "
           href="/2020/09/08/Shader Variant/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="Shader Variant">Shader Variant</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All CPlusPlus "
           href="/2020/09/08/C++ å¤ä¹ 1/"
           data-tag="C++"
           data-author="" >
            <span class="post-title" title="C++ å¤ä¹ 1">C++ å¤ä¹ 1</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All Unity "
           href="/2020/09/08/DOTS-äº‹ä»¶/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="DOTS-äº‹ä»¶">DOTS-äº‹ä»¶</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All Python "
           href="/2020/09/08/Centos éƒ¨ç½² Django/"
           data-tag="Python,Note,Django"
           data-author="" >
            <span class="post-title" title="Centos éƒ¨ç½² Django">Centos éƒ¨ç½² Django</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All CPlusPlus "
           href="/2020/09/08/Cä¸C++å¼€æºé¡¹ç›®å­¦ä¹ /"
           data-tag="C++"
           data-author="" >
            <span class="post-title" title="Cä¸C++å¼€æºé¡¹ç›®å­¦ä¹ ">Cä¸C++å¼€æºé¡¹ç›®å­¦ä¹ </span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All Python "
           href="/2020/09/08/Conda å¸¸ç”¨æ“ä½œ/"
           data-tag="Python,Note,Django,Conda"
           data-author="" >
            <span class="post-title" title="Conda å¸¸ç”¨æ“ä½œ">Conda å¸¸ç”¨æ“ä½œ</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All Unity "
           href="/2020/09/08/DrawCallä¼˜åŒ–/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="ç½‘ç»œæ¸¸æˆåŒæ­¥æ–¹æ¡ˆ">ç½‘ç»œæ¸¸æˆåŒæ­¥æ–¹æ¡ˆ</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All Python "
           href="/2020/09/08/Django å®ä¾‹ Web Application/"
           data-tag="Python,Note,Django,å®ä¾‹"
           data-author="" >
            <span class="post-title" title="Django å®ä¾‹ Web Application">Django å®ä¾‹ Web Application</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All Python "
           href="/2020/09/08/Django  åˆæ­¥æ„å»º/"
           data-tag="Python,Note,Django"
           data-author="" >
            <span class="post-title" title="Django  åˆæ­¥æ„å»º">Django  åˆæ­¥æ„å»º</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All Python "
           href="/2020/09/08/Django  åˆå§‹æµ‹è¯•/"
           data-tag="Python,Note,Django"
           data-author="" >
            <span class="post-title" title="Django  åˆå§‹æµ‹è¯•">Django  åˆå§‹æµ‹è¯•</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All Unity "
           href="/2020/09/08/ECSæ¡†æ¶çš„æ€è€ƒ/"
           data-tag=""
           data-author="" >
            <span class="post-title" title="ECSæ¡†æ¶çš„æ€è€ƒ">ECSæ¡†æ¶çš„æ€è€ƒ</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All Unity "
           href="/2020/09/08/ECS-ç ”ç©¶å­¦ä¹ /"
           data-tag=""
           data-author="" >
            <span class="post-title" title="DOTS-ç ”ç©¶å­¦ä¹ ">DOTS-ç ”ç©¶å­¦ä¹ </span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <a  class="All CPlusPlus "
           href="/2020/09/08/Effective C++å­¦ä¹ è®°å½•/"
           data-tag="C++"
           data-author="" >
            <span class="post-title" title="Effective C++å­¦ä¹ è®°å½•">Effective C++å­¦ä¹ è®°å½•</span>
            <span class="post-date" title="2020-09-08 11:23:20">2020/09/08</span>
        </a>
        
        <div id="no-item-tips">

        </div>
    </nav>
    <div id="outline-list">
    </div>
</div>
    </div>
    <div class="hide-list">
        <div class="semicircle" data-title="åˆ‡æ¢å…¨å± å¿«æ·é”® s">
            <div class="brackets first"><</div>
            <div class="brackets">&gt;</div>
        </div>
    </div>
</aside>
<div id="post">
    <div class="pjax">
        <article id="post-LUAä¸CSHARPäº¤äº’" class="article article-type-post" itemscope itemprop="blogPost">
    
        <h1 class="article-title">LUAä¸CSHARPäº¤äº’</h1>
    
    <div class="article-meta">
        
        
        
        <span class="book">
            <i class="iconfont icon-category"></i>
            
            
            <a  data-rel="Unity">Unity</a>
            
        </span>
        
        
    </div>
    <div class="article-meta">
        
            Created At : <time class="date" title='Updated At: 2020-12-26 17:16:48'>2020-12-26 17:16</time>
        
    </div>
    <div class="article-meta">
        
        <span>Count:2.7k</span>
        
        
        <span id="busuanzi_container_page_pv">
            Views ğŸ‘€ :<span id="busuanzi_value_page_pv">
                <span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </span>
        </span>
        
        
        <span class="top-comment" title="è·³è½¬è‡³è¯„è®ºåŒº">
            <a href="#comments">
                Comment:<span class="count-comment">
                    <span class="spinner">
                      <div class="cube1"></div>
                      <div class="cube2"></div>
                    </span>
                </span>
            </a>
        </span>
        
    </div>
    
    <div class="toc-ref">
    
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#ç›¸äº’è°ƒç”¨"><span class="toc-text">ç›¸äº’è°ƒç”¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#C-Call-Lua"><span class="toc-text">C# Call Lua:</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Lua-Call-C"><span class="toc-text">Lua Call C#:</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#unityä¸‹çš„luaæ¡†æ¶"><span class="toc-text">unityä¸‹çš„luaæ¡†æ¶</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#XLUA"><span class="toc-text">XLUA</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#LowLevelAPI"><span class="toc-text">LowLevelAPI</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HighLevelAPI"><span class="toc-text">HighLevelAPI</span></a></li></ol></li></ol></li></ol>
    
<style>
    .left-col .switch-btn,
    .left-col .switch-area {
        display: none;
    }
    .toc-level-3 i,
    .toc-level-3 ol {
        display: none !important;
    }
</style>
</div>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="ç›¸äº’è°ƒç”¨"><a href="#ç›¸äº’è°ƒç”¨" class="headerlink" title="ç›¸äº’è°ƒç”¨"></a>ç›¸äº’è°ƒç”¨</h2><p>åŸç†ï¼š  C#ä¸Luaè¿›è¡Œäº¤äº’ä¸»è¦é€šè¿‡è™šæ‹Ÿæ ˆå®ç°</p>
<h2 id="C-Call-Lua"><a href="#C-Call-Lua" class="headerlink" title="C# Call Lua:"></a>C# Call Lua:</h2><ul>
<li>å†…å­˜ï¼š ç”±C#å…ˆå°†æ•°æ®æ”¾å…¥æ ˆä¸­ï¼Œç”±luaå»æ ˆä¸­è·å–æ•°æ®ï¼Œç„¶åè¿”å›æ•°æ®å¯¹åº”çš„å€¼åˆ°æ ˆé¡¶ï¼Œå†ç”±æ ˆé¡¶è¿”å›è‡³C#ã€‚</li>
<li>ä»£ç ï¼š C#ç”ŸæˆBridgeæ–‡ä»¶ï¼ŒBridgeè°ƒdllæ–‡ä»¶ï¼ˆdllæ˜¯ç”¨Cå†™çš„åº“ï¼‰ï¼Œå…ˆè°ƒç”¨luaä¸­dllæ–‡ä»¶ï¼Œç”±dllæ–‡ä»¶æ‰§è¡Œluaä»£ç <br>C#-&gt;Bridge-&gt;dll-&gt;Lua  OR   C#-&gt;dll-&gt;Lua</li>
</ul>
<h2 id="Lua-Call-C"><a href="#Lua-Call-C" class="headerlink" title="Lua Call C#:"></a>Lua Call C#:</h2><ul>
<li>å†…å­˜ï¼š å…ˆç”ŸæˆC#æºæ–‡ä»¶æ‰€å¯¹åº”çš„Wrapæ–‡ä»¶æˆ–è€…ç¼–å†™C#æºæ–‡ä»¶æ‰€å¯¹åº”çš„cæ¨¡å—ï¼Œç„¶åå°†æºæ–‡ä»¶å†…å®¹é€šè¿‡Wrapæ–‡ä»¶æˆ–è€…Cæ¨¡å—æ³¨å†Œåˆ°Luaè§£é‡Šå™¨ä¸­ï¼Œç„¶åç”±Luaå»è°ƒç”¨è¿™ä¸ªæ¨¡å—çš„å‡½æ•°ã€‚</li>
<li>ä»£ç ï¼šå…ˆç”ŸæˆWrapæ–‡ä»¶ï¼ˆä¸­é—´æ–‡ä»¶/é€‚é…æ–‡ä»¶ï¼‰ï¼Œwrapæ–‡ä»¶æŠŠå­—æ®µæ–¹æ³•ï¼Œæ³¨å†Œåˆ°luaè™šæ‹Ÿæœºä¸­ï¼ˆè§£é‡Šå™¨luajitï¼‰ï¼Œç„¶åluaé€šè¿‡wrapå°±å¯ä»¥è°ƒC#äº†<br>æˆ–è€…åœ¨configæ–‡ä»¶ä¸­æ·»åŠ ç›¸åº”ç±»å‹ä¹Ÿå¯ä»¥</li>
</ul>
<h2 id="unityä¸‹çš„luaæ¡†æ¶"><a href="#unityä¸‹çš„luaæ¡†æ¶" class="headerlink" title="unityä¸‹çš„luaæ¡†æ¶"></a>unityä¸‹çš„luaæ¡†æ¶</h2><p>ä¸ºäº†ä½¿åŸºäºunityå¼€å‘çš„åº”ç”¨åœ¨ç§»åŠ¨å¹³å°èƒ½å¤Ÿçƒ­æ›´æ–°ï¼Œæˆ‘ä»¬åµŒå…¥äº†Luaè™šæ‹Ÿæœºï¼Œå°†éœ€è¦çƒ­æ›´æ–°çš„é€»è¾‘ç”¨luaå®ç°ã€‚c#é€šè¿‡P/Invokeå’Œluaäº¤äº’ï¼ˆluaç”±ANSI Cå®ç°ï¼‰ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œç”±äºæ•°æ®çš„äº¤æ¢éœ€è¦ä½¿ç”¨==luaæä¾›çš„è™šæ‹Ÿæ ˆ #F44336==ï¼Œä¸å¤Ÿç®€å•é«˜æ•ˆï¼Œä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¼•å…¥äº†*luaæ¡†æ¶ï¼ˆxluaã€sluaã€uluaï¼‰æ¥è¾¾åˆ°ç±»ä¼¼RPCå¼çš„å‡½æ•°è°ƒç”¨ã€ç±»åŸç”Ÿå¯¹è±¡å¼çš„å¯¹è±¡è®¿é—®ä»¥åŠé«˜æ•ˆçš„å¯¹è±¡ä¼ é€’ã€‚</p>
<h3 id="XLUA"><a href="#XLUA" class="headerlink" title="XLUA"></a>XLUA</h3><p>å¯ä»¥æŠŠxluaçš„push APIå½’ä¸ºä¸¤ç±»ï¼šä¸€ç±»æ˜¯é’ˆå¯¹æŸç§ç‰¹å®šç±»å‹çš„pushï¼Œæš‚ä¸”å«åšLowLevelAPIï¼›è¿˜æœ‰ä¸€ç±»æ˜¯åŸºäºLowLevelAPIå°è£…çš„æ›´ä¸Šå±‚çš„HighLevelAPIã€‚</p>
<ul>
<li>é—¨é¢æ¨¡å¼<br>ä½¿ç”¨HighLevelAPIæ—¶ä½ åªè¦ç®€å•çš„ä¼ å…¥ä½ æƒ³pushçš„å¯¹è±¡ï¼ŒHighLevelAPIä¼šå¸®ä½ æ‰¾åˆ°æœ€é€‚åˆçš„LowLevelAPIè°ƒç”¨ï¼Œå› ä¸ºå°±ç®—åŒä¸€ç§ç±»å‹çš„pushæ–¹æ³•ï¼Œä¹Ÿå¯èƒ½æœ‰ç”¨æˆ·è‡ªå®šä¹‰çš„ä¼˜åŒ–ç‰ˆæœ¬ã€‚è€Œå¯¹äºLowLevelAPIæœ€ç»ˆæ˜¯éœ€è¦è°ƒç”¨xlua.dllä¸­æä¾›çš„C APIæ¥åè°ƒå®Œæˆæœ€ç»ˆçš„å·¥ä½œã€‚</li>
</ul>
<h4 id="LowLevelAPI"><a href="#LowLevelAPI" class="headerlink" title="LowLevelAPI"></a>LowLevelAPI</h4><pre><code class="csharp">//using RealStatePtr = System.IntPtr;
//using LuaCSFunction = XLua.LuaDLL.lua_CSFunction;
//typedef int (*lua_CFunction) (lua_State *L);

//ObjectTranslator.cs
void pushPrimitive(RealStatePtr L, object o)
public void Push(RealStatePtr L, object o)
public void PushObject(RealStatePtr L, object o, int type_id)
public void Push(RealStatePtr L, LuaCSFunction o)
internal void PushFixCSFunction(RealStatePtr L, LuaCSFunction func)
public void Push(RealStatePtr L, LuaBase o)
public void PushDecimal(RealStatePtr L, decimal val)</code></pre>
<ul>
<li>ä¼ é€’åŸºå…ƒç±»å‹</li>
</ul>
<p>åŸºå…ƒç±»å‹ä¸º Booleanã€Byteã€SByteã€Int16ã€UInt16ã€Int32ã€UInt32ã€Int64ã€UInt64ã€UIntPtrã€Charã€Doubleã€Singleå’ŒIntPtr ï¼ˆå¯¹åº”çš„void*ï¼‰ã€‚</p>
<pre><code class="csharp">void pushPrimitive(RealStatePtr L, object o)</code></pre>
<p>XLUAä¸­ï¼š</p>
<pre><code class="csharp">//pushä¸€ä¸ªint
LUA_API void xlua_pushinteger (lua_State *L, int n)
//pushä¸€ä¸ªdouble
#define LUA_NUMBER    double
typedef LUA_NUMBER lua_Number;
LUA_API void lua_pushnumber (lua_State *L, lua_Number n)
//pushä¸€ä¸ªIntPtr
LUA_API void lua_pushlightuserdata (lua_State *L, void *p)</code></pre>
<p>å¯¹äºlongï¼Œxluaå®šåˆ¶ï¼š</p>
<pre><code class="cpp">//i64lib.c
//åœ¨luaä¸­è¡¨ç¤ºc#ä¸­çš„long
typedef struct {
    int fake_id;
    int8_t type;
    union {
        int64_t i64;
        uint64_t u64;
    } data;
} Integer64;</code></pre>
<ul>
<li>ä¼ é€’ object</li>
</ul>
<pre><code class="csharp">public void Push(RealStatePtr L, object o)
public void PushObject(RealStatePtr L, object o, int type_id)</code></pre>
<p>ä¸ç®¡objectæ˜¯ä»€ä¹ˆç±»å‹ï¼Œæœ€ç»ˆçš„pushéƒ½æ˜¯ä½¿ç”¨:</p>
<pre><code class="c">LUA_API void xlua_pushcsobj(lua_State *L, int key, int meta_ref, int need_cache, int cache_ref) {
    int* pointer = (int*)lua_newuserdata(L, sizeof(int));
    *pointer = key;

    if (need_cache) cacheud(L, key, cache_ref);

    lua_rawgeti(L, LUA_REGISTRYINDEX, meta_ref);

    lua_setmetatable(L, -2);
}</code></pre>
<p>ä¸ºä»€ä¹ˆæˆ‘ä»¬ä¼ ç»™luaçš„å¯¹è±¡æ˜¯ä¸€ä¸ªintç±»å‹ï¼ˆè¿™é‡Œçš„keyï¼‰ï¼Ÿå…¶å®æˆ‘ä»¬è¿™é‡Œçš„keyæ˜¯æˆ‘ä»¬è¦ä¼ é€’çš„c#å¯¹è±¡çš„ä¸€ä¸ªç´¢å¼•ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªç´¢å¼•æ‰¾åˆ°è¿™ä¸ªc#å¯¹è±¡ã€‚</p>
<p>å½“ä¼ é€’ä¸€ä¸ªc#å¯¹è±¡çš„æ—¶å€™ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªuserdateï¼Œå¹¶æŠŠè¿™ä¸ªç´¢å¼•å€¼èµ‹ç»™è¿™ä¸ªuserdataã€‚ç„¶åï¼Œluaåœ¨å…¨å±€æ³¨å†Œè¡¨ä¸­ï¼Œæœ‰ä¸€å¼ ä¸“é—¨çš„è¡¨ç”¨æ¥å­˜æ”¾c#å„ç§ç±»å‹æ‰€å¯¹åº”çš„å…ƒè¡¨ï¼Œè€Œ<strong>meta_ref</strong>å°±æ˜¯å½“å‰è¿™ä¸ªå¯¹è±¡æ‰€å¯¹åº”ç±»å‹çš„å…ƒè¡¨çš„ç´¢å¼•idï¼Œæˆ‘ä»¬é€šè¿‡ä»–æ‰¾åˆ°å¯¹åº”çš„å…ƒè¡¨ï¼Œå°±å¯ä»¥é€šè¿‡setmetatableæ¥ç»‘å®šæ“ä½œè¿™ä¸ªå¯¹è±¡çš„æ–¹æ³•ã€‚æœ€ç»ˆluaå°±å¯ä»¥æ„‰å¿«çš„ä½¿ç”¨è¿™ä¸ªå¯¹è±¡ã€‚</p>
<blockquote>
<p>æ¯ç§ç±»å‹æ‰€å¯¹åº”çš„å…ƒè¡¨ï¼Œæ˜¯æˆ‘ä»¬åœ¨pushä¸€ç§ç±»å‹çš„å¯¹è±¡ä¹‹å‰ï¼Œæå‰æ³¨å†Œè¿›æ¥çš„ï¼Œåé¢è¯¦è¿°ã€‚</p>
</blockquote>
<p>ä½†æ˜¯å¯¹äºå¼•ç”¨ç±»å‹çš„å¯¹è±¡ï¼Œå…¶ç”Ÿå‘½å‘¨æœŸæ˜¯æœ‰å¯èƒ½è¶…å‡ºå½“å‰çš„è°ƒç”¨æ ˆçš„ï¼ˆæ¯”å¦‚luaç”¨ä¸€ä¸ªå˜é‡å¼•ç”¨äº†è¿™ä¸ªå¯¹è±¡ï¼‰ ã€‚è¿™æ—¶ï¼Œæˆ‘ä»¬å°±ä¸ä»…è¦èƒ½å¤Ÿé€šè¿‡è¿™ä¸ªkeyæ‰¾åˆ°c#åŸå§‹å¯¹è±¡ï¼Œè¿˜è¦é€šè¿‡è¿™ä¸ªkeyèƒ½å¤Ÿæ‰¾åˆ°å¯¹åº”çš„luaä»£ç†å¯¹è±¡ã€‚å› æ­¤ï¼Œå¯¹äºå¼•ç”¨ç±»å‹ï¼Œæˆ‘ä»¬åœ¨luaä¸­åŒæ ·ä¹Ÿè¦å»ºç«‹ä¸€å¥—ç´¢å¼•æœºåˆ¶ï¼Œè¿™å°±æ˜¯need_cacheå’Œcache_refçš„ä½œç”¨ï¼š</p>
<pre><code class="c">static void cacheud(lua_State *L, int key, int cache_ref) {
    lua_rawgeti(L, LUA_REGISTRYINDEX, cache_ref);
    lua_pushvalue(L, -2);
    lua_rawseti(L, -2, key);
    lua_pop(L, 1);
}</code></pre>
<ul>
<li>ç¼“å­˜</li>
</ul>
<p>å†å›è¿‡å¤´æ¥çœ‹çœ‹c#ä¸­çš„ç´¢å¼•å’Œç¼“å­˜æœºåˆ¶ï¼š</p>
<p>åœ¨è°ƒç”¨xlua_pushcsobjä¹‹å‰,æ‰€æœ‰objectéƒ½ä¼šè¢«æ”¾å…¥ä¸€ä¸ªå¯¹è±¡çš„ç¼“å­˜æ± ä¸­ObjectTranslator.objectsã€‚è€Œæˆ‘ä»¬å¾—åˆ°çš„keyå°±æ˜¯è¿™ä¸ªå¯¹è±¡åœ¨ç¼“å­˜æ± ä¸­çš„ä¸‹æ ‡ã€‚</p>
<ul>
<li>gc</li>
</ul>
<p>å¯¹äºå¼•ç”¨ç±»å‹ï¼Œå®ƒçš„ç”Ÿå‘½å‘¨æœŸç®¡ç†ä¼šç•¥å¾®å¤æ‚ã€‚<strong>monoå’Œluaè™šæ‹Ÿæœºæœ‰å„è‡ªçš„gcç³»ç»Ÿ</strong>ï¼Œå¹¶ä¸”ç›¸äº’æ— æ³•æ„ŸçŸ¥ã€‚å½“luaå’Œc#åŒæ—¶å¼•ç”¨ä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œæˆ‘ä»¬éœ€è¦èƒ½å¤Ÿä¿è¯å¯¹è±¡ç”Ÿå‘½å‘¨æœŸçš„æ­£ç¡®ï¼Œä¸èƒ½ä¸€è¾¹è¿˜åœ¨å¼•ç”¨ï¼Œå¦ä¸€è¾¹å´æŠŠå®ƒé‡Šæ”¾æ‰äº†ã€‚</p>
<p>è¿™ä¸ªè¿‡ç¨‹æ˜¯ç”±luaçš„gcé©±åŠ¨çš„ã€‚æˆ‘ä»¬<strong>æŠŠå¯¹è±¡pushåˆ°luaæ—¶ï¼Œä¼šç¼“å­˜åœ¨c#çš„å¯¹è±¡æ± ä¸­ï¼Œæ‰€ä»¥æ˜¯ä¸ä¼šè¢«monoçš„gcæ‰€é‡Šæ”¾æ‰ï¼Œè¿™æ ·å°±ä¿è¯äº†luaèƒ½å¤Ÿå®‰å…¨çš„æŒæœ‰c#å¯¹è±¡ã€‚åŒæ—¶æˆ‘ä»¬ä¹Ÿä¼šæŠŠè¿™ä¸ªå¯¹è±¡çš„ä»£ç†ç¼“å­˜åˆ°luaä¸­ï¼Œè€Œluaä¸­å¯¹è±¡çš„ç¼“å­˜è¡¨æ˜¯ä¸€ä¸ªå¼±è¡¨ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå½“æ²¡æœ‰å…¶ä»–çš„luaå¼•ç”¨è¿™ä¸ªå¯¹è±¡æ—¶ï¼Œluaçš„gcä¼šæŠŠè¿™ä¸ªå¯¹è±¡ä»luaçš„ç¼“å­˜ä¸­å›æ”¶</strong>ï¼Œè€Œå¯¹è±¡è¢«gcå›æ”¶çš„è¿‡ç¨‹ä¼šè§¦å‘è¿™ä¸ªå¯¹è±¡çš„çš„__gcå…ƒæ–¹æ³•ã€‚</p>
<p>è€Œè¿™ä¸ª__gcå…ƒæ–¹æ³•å°±ä¼šé€šçŸ¥åˆ°c#è¿™ç«¯ï¼Œæ¥å‘Šè¯‰æˆ‘ä»¬luaä¸å†ä½¿ç”¨è¿™ä¸ªå¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒä»å¯¹è±¡ç¼“å­˜æ± ä¸­ç§»é™¤ã€‚å½“æ²¡æœ‰å…¶ä»–c#å¯¹å…¶çš„å¼•ç”¨æ—¶ï¼Œmonoçš„gcå°±ä¼šæ­£å¸¸çš„å›æ”¶è¿™ä¸ªå¯¹è±¡ã€‚</p>
<pre><code class="csharp">//StaticLuaCallback.cs
//__gcå…ƒæ–¹æ³•ï¼š
public static int LuaGC(RealStatePtr L)
{
    try
    {
        int udata = LuaAPI.xlua_tocsobj_safe(L, 1);
        if (udata != -1)
        {
            ObjectTranslator translator = ObjectTranslatorPool.Instance.Find(L);
            if ( translator != null )
            {
                translator.collectObject(udata);
            }
        }
        return 0;
    }
    catch (Exception e)
    {
        return LuaAPI.luaL_error(L, &quot;c# exception in LuaGC:&quot; + e);
    }
}

//ä»ç¼“å­˜æ± ä¸­åˆ é™¤
internal void collectObject(int obj_index_to_collect)
{
    object o;

    if (objects.TryGetValue(obj_index_to_collect, out o))
    {
        objects.Remove(obj_index_to_collect);

        if (o != null)
        {
            int obj_index;
            //lua gcæ˜¯å…ˆæŠŠweak tableç§»é™¤åå†è°ƒç”¨__gcï¼Œè¿™æœŸé—´åŒä¸€ä¸ªå¯¹è±¡å¯èƒ½å†æ¬¡pushåˆ°luaï¼Œå…³è”åˆ°æ–°çš„index
            bool is_enum = o.GetType().IsEnum();
            if ((is_enum ? enumMap.TryGetValue(o, out obj_index) : reverseMap.TryGetValue(o, out obj_index))
                &amp;&amp; obj_index == obj_index_to_collect)
            {
                if (is_enum)
                {
                    enumMap.Remove(o);
                }
                else
                {
                    reverseMap.Remove(o);
                }
            }
        }
    }
}</code></pre>
<ul>
<li>å…ƒè¡¨</li>
</ul>
<p>å¯¹äºä¸šåŠ¡æ¥è¯´ï¼Œæˆ‘ä»¬åªæ˜¯å•çº¯çš„æŠŠå¯¹è±¡çš„ç´¢å¼•ä¼ é€’è¿‡å»ï¼Œæ˜¯è¿œè¿œä¸å¤Ÿçš„ï¼Œæˆ‘ä»¬è¿˜éœ€è¦æä¾›ç›´æ¥ä½¿ç”¨å’Œæ“ä½œå¯¹è±¡çš„æ–¹æ³•ã€‚å‰é¢æˆ‘ä»¬æåˆ°ï¼Œåœ¨æˆ‘ä»¬æŠŠä¸€ä¸ªå¯¹è±¡pushåˆ°luaä¹‹å‰ï¼Œæˆ‘ä»¬ä¼šæŠŠå¯¹è±¡ç±»å‹æ‰€å¯¹åº”çš„å…ƒè¡¨æå‰æ³¨å†Œåˆ°luaä¹‹ä¸­ã€‚è¿™æ ·åœ¨æˆ‘ä»¬çœŸæ­£pushä¸€ä¸ªå¯¹è±¡æ—¶ï¼Œå°±ä¼šç”¨è¿™ä¸ªå…ƒè¡¨æ¥è®¾ç½®æ“ä½œè¿™ä¸ªå¯¹è±¡çš„æ–¹æ³•ã€‚</p>
<p>é¦–å…ˆç¬¬ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼Œå¦‚ä½•è¡¨ç¤ºc#å¯¹è±¡çš„ç±»å‹ï¼Ÿå›è¿‡å¤´æ¥çœ‹çœ‹æˆ‘ä»¬çš„Pushå‡½æ•°ï¼Œå…¶ä¸­æœ€é‡è¦çš„å°±æ˜¯getTypeIdï¼š</p>
<p>é¦–å…ˆä¼šå°è¯•ä»c#çš„ç±»å‹ç¼“å­˜typeIdMapä¸­æ£€æŸ¥æ˜¯å¦å·²ç»æ³¨å†Œè¿‡è¿™ç§ç±»å‹ï¼Œå¦‚æœæ²¡æœ‰çš„è¯ï¼Œæˆ‘ä»¬å°±éœ€è¦ä¸ºå…¶ç”Ÿæˆä¸€ä¸ªtype_idã€‚</p>
<p><strong>å†ä»luaçš„ç±»å‹ç¼“å­˜ä¸­ç”¨ç±»å‹åæ¥æ£€ç´¢æ˜¯å¦å·²ç»æ³¨å†Œè¿‡è¿™ç§ç±»å‹ï¼Œå¦‚æœæ²¡æœ‰çš„è¯ï¼Œæ„å‘³ç€æˆ‘ä»¬è¿˜æ²¡æœ‰ä¸ºè¿™ç§ç±»å‹åœ¨luaä¸­æ³¨å†Œä¸€ä¸ªå…ƒè¡¨ï¼Œç»§è€Œé€šè¿‡TryDelayWrapLoaderæ¥ç”Ÿæˆè¿™ä¸ªç±»å‹çš„å…ƒè¡¨</strong>ã€‚</p>
<pre><code class="csharp">//
public void Push(RealStatePtr L, object o)
{
    //...
    Type type = o.GetType();
    bool is_first;
    int type_id = getTypeId(L, type, out is_first);
    //...
}

//è¿™é‡Œå†æ¬¡åæ§½getTypeIdå‡½æ•°çš„è®¾è®¡å’Œå®ç°ï¼Œä¸ºäº†ä¿æŒæ¸…æ¥šï¼Œæˆ‘åªä¿ç•™èƒ½å¤§ä½“è¯´æ˜é€»è¾‘çš„çš„ä»£ç 
internal int getTypeId(RealStatePtr L, Type type, out bool is_first, LOGLEVEL log_level = LOGLEVEL.WARN)
{
    //å°è¯•è·å–c#ä¸­æ£€ç´¢
    if (typeIdMap.TryGetValue(type, out type_id)){return;}
    //å°è¯•ä»luaä¸­æ£€ç´¢
    LuaAPI.luaL_getmetatable(L,type.FullName);
    if (LuaAPI.lua_isnil(L, -1)) 
    {
        LuaAPI.lua_pop(L, 1);
        //è·å–ç±»å‹çš„å…ƒè¡¨
        if (TryDelayWrapLoader(L,  type))
        {
            LuaAPI.luaL_getmetatable(L, type.FullName);
        }
        else
        {
            throw new Exception(&quot;Fatal: can not load metatable of type:&quot; + type);
        }
    }
    //ç”Ÿæˆæ–°çš„type_id
    type_id = LuaAPI.luaL_ref(L, LuaIndexes.LUA_REGISTRYINDEX);
    //æ³¨å†Œåˆ°lua
    LuaAPI.lua_pushnumber(L, type_id);
    LuaAPI.xlua_rawseti(L, -2, 1);
    LuaAPI.lua_pop(L, 1);

    if (type.IsValueType())
    {
        typeMap.Add(type_id, type);
    }

    typeIdMap.Add(type, type_id);
}</code></pre>
<ul>
<li>ä¼ é€’c#å‡½æ•°</li>
</ul>
<p>xluaé€šè¿‡lua_pushstdcallcfunctionæ¥pushä¸€ä¸ªLuaCSFunctionï¼Œå…¶è°ƒç”¨çš„æ—¶xlua.dllæä¾›çš„xlua_push_csharp_functionã€‚</p>
<pre><code class="csharp"> //LUADLL.cs
public static void lua_pushstdcallcfunction(IntPtr L, lua_CSFunction function, int n = 0)//[-0, +1, m]
{
    IntPtr fn = Marshal.GetFunctionPointerForDelegate(function);
    xlua_push_csharp_function(L, fn, n);
}</code></pre>
<p>æœ€ç»ˆæä¾›ç»™ç”¨æˆ·çš„æ˜¯è¿™ä¸¤ä¸ªæ¥å£ï¼š</p>
<pre><code class="csharp">internal void PushFixCSFunction(RealStatePtr L, LuaCSFunction func)
public void Push(RealStatePtr L, LuaCSFunction o)</code></pre>
<p>è¿™ä¸¤ä¸ªå‡½æ•°éƒ½åšäº†ä¸€ä»¶äº‹æƒ…ï¼Œå°±æ˜¯åœ¨LuaCSFunctionå‡½æ•°pushåˆ°luaä¹‹å‰ï¼Œç”¨å¦ä¸€ä¸ªLuaCSFunctionæ¥åŒ…è£…äº†ä¸€å±‚ï¼Œç”¨æ¥åšå¼‚å¸¸æ•è·ã€‚</p>
<blockquote>
<p>å’Œgcä¸€æ ·ï¼Œmonoå’Œluaæœ‰è‡ªå·±çš„å¼‚å¸¸</p>
</blockquote>
<p>ä¸¤ç§ç´¢å¼•æ–¹å¼çš„ä¸åŒï¼Œä½¿ç”¨åœ¨äº†ä¸åŒçš„åœºæ™¯ã€‚</p>
<p>PushFixCSFunction()å¤§é‡è¢«ç”¨åœ¨æˆ‘ä»¬é™æ€ç”Ÿæˆçš„å…ƒè¡¨æ„é€ å™¨ä¸­ï¼Œåšä¸ºé»˜è®¤éœ€è¦æ”¯æŒçš„ç±»å‹çš„å…ƒè¡¨ï¼Œæ³¨å†Œè¿›luaï¼Œå¹¶æ°¸ä¹…å­˜åœ¨ã€‚è€ŒPush()è¢«å¤§é‡ä½¿ç”¨åœ¨åå°„ç”Ÿæˆçš„å…ƒè¡¨ä¹‹ä¸­ï¼Œåœ¨ä½¿ç”¨å®Œä¹‹åï¼Œå¯èƒ½å°±ä¼šè¢«é‡Šæ”¾ã€‚</p>
<p>æœ€åè¿˜æœ‰ä¸€ä¸ªå°ç»†èŠ‚ï¼ŒPush()ä¸­å¯¹IsStaticPInvokeCSFunctionçš„å‡½æ•°æ²¡æœ‰åŠ åŒ…è£…ï¼Œå› ä¸ºè¿™ç§ç±»å‹çš„å‡½æ•°æ˜¯æˆ‘ä»¬é™æ€ç”Ÿæˆçš„ï¼Œåœ¨ç”Ÿæˆæ—¶ï¼Œæˆ‘ä»¬å·²ç»åŠ å…¥äº†å¼‚å¸¸æ•è·çš„ä»£ç ï¼Œä¸éœ€è¦å†è¢«æ•è·äº†ã€‚</p>
<blockquote>
<p>å¯ä»¥çœ‹åˆ°ï¼Œä¸€ä¸ªå‡½æ•°åœ¨è¢«è°ƒç”¨ä¹‹å‰ï¼Œè¿›è¡Œäº†å¤šæ¬¡çš„åŒ…è£…ï¼Œæ¯æ¬¡åŒ…è£…éƒ½é™„å¸¦äº†ä¸€äº›é¢å¤–çš„åŠŸèƒ½ï¼Œä½†åˆå¯¹åŸå‡½æ•°æ²¡æœ‰ä¾µå…¥ã€‚ï¼ˆå‡½æ•°å¼ç¼–ç¨‹ï¼Œé¢å‘åˆ‡ç‰‡ç¼–ç¨‹ï¼‰</p>
</blockquote>
<ul>
<li>å…¶ä»–push</li>
</ul>
<pre><code class="csharp">//pushä¸€ä¸ªluaåœ¨c#ä¸­çš„ä»£ç†å¯¹è±¡
public void Push(RealStatePtr L, LuaBase o)</code></pre>
<p>LuaBaseæ˜¯c#å¯¹luaä¸­ç‰¹æœ‰çš„ç±»å‹çš„å°è£…ã€‚æ¯”å¦‚è¯´LuaTableå¯¹åº”tableã€LuaFunctionå¯¹åº”luafunctionï¼ˆæ­¤å¤„ä¸æ˜¯luacfunctionï¼‰ã€‚C#å¯ä»¥é€šè¿‡å¯¹åº”çš„ç±»å‹å»åˆ›å»ºã€æ“ä½œä¸€ä¸ªluaåŸç”Ÿå¯¹è±¡ã€‚</p>
<p>æ‰€ä»¥ï¼ŒLuaBaseåªæ˜¯ä¸€ä¸ªluaå¯¹è±¡åœ¨c#ä¸­çš„ä»£ç†ï¼Œæˆ‘ä»¬pushä¸€ä¸ªLuaBaseå…¶å®æ˜¯æ‰¾åˆ°çœŸæ­£çš„luaå¯¹è±¡ï¼Œå¹¶pushã€‚</p>
<pre><code class="csharp">//é‡è½½pushä¸€ä¸ªdecimalï¼Œé¿å…gc
void PushDecimal(RealStatePtr L, decimal val)</code></pre>
<h4 id="HighLevelAPI"><a href="#HighLevelAPI" class="headerlink" title="HighLevelAPI"></a>HighLevelAPI</h4><p>å¯¹äºHighLevelAPIï¼Œé‡Œé¢ä¸åŒ…å«å…·ä½“çš„pushå®ç°ï¼Œè€Œæ˜¯é€šè¿‡è·å–å¯¹è±¡çš„ç±»å‹ï¼Œæ¥é€‰æ‹©æ€§çš„è°ƒç”¨ç±»å‹æ‰€å¯¹åº”çš„å…·ä½“pushå‡½æ•°ã€‚</p>
<p>å¯ä»¥çœ‹ä½œç±»ä¼¼æ˜¯ç¼–è¯‘å™¨çš„å‡½æ•°é‡è½½åŠŸèƒ½</p>
<pre><code class="csharp">public void PushAny(RealStatePtr L, object o)
public void PushByType&lt;T&gt;(RealStatePtr L,  T v)</code></pre>
<ul>
<li><p>é¡¾åæ€ä¹‰ï¼ŒPushAny()å¯ä»¥ç”¨æ¥pushæ‰€æœ‰çš„ç±»å‹ï¼Œå¯ä»¥è¢«ç”¨åœ¨æˆ‘ä»¬æå‰æ²¡æ³•çŸ¥é“å¯¹è±¡ç±»å‹çš„åœ°æ–¹ã€‚æœ€å…¸å‹çš„ä¾‹å­å°±æ˜¯åœ¨åå°„ç”Ÿæˆå…ƒè¡¨æ—¶ï¼Œæˆ‘ä»¬åŠ¨æ€çš„è·å–å¯¹è±¡ï¼Œé€šè¿‡PushAny()æŠŠç±»å‹æœªçŸ¥çš„å¯¹è±¡pushåˆ°luaã€‚</p>
</li>
<li><p>PushByType()æ˜¯å¯¹PushAny()çš„å°è£…ï¼Œå”¯ä¸€çš„ä¸åŒå°±æ˜¯åšäº†ä¸€ä¸ªä¼˜åŒ–ï¼š<br>å¯¹äºåŸºå…ƒç±»å‹ï¼Œä¸å†è°ƒç”¨pushPrimitive() ï¼ˆä¼šæœ‰è£…ç®±/æ‹†ç®±ï¼‰,è€Œæ˜¯é€šè¿‡æŸ¥è¡¨çš„æ–¹å¼ç›´æ¥è·å–é’ˆå¯¹å„ä¸ªåŸºå…ƒç±»å‹çš„ç›´æ¥pushçš„æ–¹å¼ã€‚</p>
</li>
</ul>

      
       <hr><span style="font-style: italic;color: gray;"> è½¬è½½è¯·æ³¨æ˜æ¥æºï¼Œæ¬¢è¿å¯¹æ–‡ç« ä¸­çš„å¼•ç”¨æ¥æºè¿›è¡Œè€ƒè¯ï¼Œæ¬¢è¿æŒ‡å‡ºä»»ä½•æœ‰é”™è¯¯æˆ–ä¸å¤Ÿæ¸…æ™°çš„è¡¨è¾¾ã€‚å¯ä»¥åœ¨ä¸‹é¢è¯„è®ºåŒºè¯„è®ºï¼Œä¹Ÿå¯ä»¥é‚®ä»¶è‡³ 1024037035@qq.com </span>
    </div>
</article>


<p>
    <a  class="dashang" onclick="dashangToggle()">ğŸ’°</a>
</p>


<div class="article_copyright">
    <p><span class="copy-title">Title:</span>LUAä¸CSHARPäº¤äº’</p>
    <p><span class="copy-title">Count:</span><span class="post-count">2.7k</span></p>
    <p><span class="copy-title">Author:</span><a  title="éœå®¶é¹">éœå®¶é¹</a></p>
    <p><span class="copy-title">Created At:</span>2020-12-26, 17:16:48</p>
    <p><span class="copy-title">Updated At:</span>2020-12-26, 17:16:48</p>
    <span class="copy-title">Url:</span><a class="post-url" href="/2020/12/26/LUAä¸CSHARPäº¤äº’/" title="LUAä¸CSHARPäº¤äº’">http://www.hjp.wiki/2020/12/26/LUAä¸CSHARPäº¤äº’/</a>
    <p>
        <span class="copy-title">Copyright:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" title="CC BY-NC-SA 4.0 International" target = "_blank">AveryHuo</a> Reprint please keep the original link and author.
    </p>
</div>



    <div id="comments">
    <script src="https://utteranc.es/client.js"
            repo="AveryHuo/AveryHuo.github.io"
            issue-term="pathname"
            theme="github-light"
            label="utteranc"
            crossorigin="anonymous"
            async>
    </script>
</div>




    




    </div>
    <div class="copyright">
        <p class="footer-entry"><span class="miit">
                <img src="/img/gov.png" title="ä¸­åäººæ°‘å…±å’Œå›½å·¥ä¸šå’Œä¿¡æ¯åŒ–éƒ¨">
                <a href="http://beian.miit.gov.cn/">ç²¤ICPå¤‡2020091327å·</a>
        </span>
    
    Â©2018-2020 AveryHuo
</p>
<p class="footer-entry">Built with <a href="https://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/yelog/hexo-theme-3-hexo" target="_blank">3-hexo</a> theme</p>

    </div>
    <div class="full-toc">
        <button class="full" data-title="åˆ‡æ¢å…¨å± å¿«æ·é”® s"><span class="min "></span></button>
<a class="" id="rocket" ></a>

    </div>
</div>

<div class="hide_box" onclick="dashangToggle()"></div>
<div class="shang_box">
    <a class="shang_close"  onclick="dashangToggle()">Ã—</a>
    <div class="shang_tit">
        <p>Help us with donation</p>
    </div>
    <div class="shang_payimg">
        <div class="pay_img">
            <img src="/img/alipay.jpg" class="alipay" title="æ‰«ç æ”¯æŒ">
            <img src="/img/weixin.jpg" class="weixin" title="æ‰«ç æ”¯æŒ">
        </div>
    </div>
    <div class="shang_payselect">
        <span><label><input type="radio" name="pay" checked value="alipay">alipay</label></span><span><label><input type="radio" name="pay" value="weixin">weixin</label></span>
    </div>
</div>


</body>
<script src="/js/jquery.pjax.js?v=1.1.0" ></script>

<script src="/js/script.js?v=1.1.0" ></script>
<script>
    var img_resize = 'default';
    function initArticle() {
        /*æ¸²æŸ“å¯¹åº”çš„è¡¨æ ¼æ ·å¼*/
        
            $("#post .pjax table").addClass("green_title");
        

        /*æ¸²æŸ“æ‰“èµæ ·å¼*/
        
        $("input[name=pay]").on("click", function () {
            if($("input[name=pay]:checked").val()=="weixin"){
                $(".shang_box .shang_payimg .pay_img").addClass("weixin_img");
            } else {
                $(".shang_box .shang_payimg .pay_img").removeClass("weixin_img");
            }
        })
        

        /*é«˜äº®ä»£ç å—è¡Œå·*/
        
        $('pre code').each(function(){
            var lines = $(this).text().trim().split('\n').length, widther='';
            if (lines>99) {
                widther = 'widther'
            }
            var $numbering = $('<ul/>').addClass('pre-numbering ' + widther).attr("unselectable","on");
            $(this).addClass('has-numbering ' + widther)
                    .parent()
                    .append($numbering);
            for(var i=1;i<=lines;i++){
                $numbering.append($('<li/>').text(i));
            }
        });
        

        /*è®¿é—®æ•°é‡*/
        
        $.getScript("//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js");
        

        /*ä»£ç é«˜äº®ï¼Œè¡Œå·å¯¹é½*/
        $('.pre-numbering').css('line-height',$('.has-numbering').css('line-height'));

        
        
        /* æ¸²æŸ“*/
        function HTMLDecode(text) {
            var temp = document.createElement("div");
            temp.innerHTML = text;
            var output = temp.innerText || temp.textContent;
            temp = null;
            return output;
        }
        if (window.mermaid){
            window.mermaid = null
        }
        $.getScript("//cdn.jsdelivr.net/npm/mermaid@8.4.2/dist/mermaid.min.js", function () {
            var mermaidOptions = JSON.parse(HTMLDecode("{&#34;theme&#34;:&#34;default&#34;,&#34;startOnLoad&#34;:true,&#34;flowchart&#34;:{&#34;useMaxWidth&#34;:false,&#34;htmlLabels&#34;:true}}"))
            if (window.mermaid) {
                mermaid.initialize(mermaidOptions)
                mermaid.contentLoaded()
            }
        })
        
    }

    /*æ‰“èµé¡µé¢éšè—ä¸å±•ç¤º*/
    
    function dashangToggle() {
        $(".shang_box").fadeToggle();
        $(".hide_box").fadeToggle();
    }
    

</script>

<!--åŠ å…¥è¡Œå·çš„é«˜äº®ä»£ç å—æ ·å¼-->

<style>
    pre{
        position: relative;
        margin-bottom: 24px;
        border-radius: 10px;
        border: 1px solid #e2dede;
        background: #FFF;
        overflow: hidden;
    }
    code.has-numbering{
        margin-left: 30px;
    }
    code.has-numbering.widther{
        margin-left: 35px;
    }
    .pre-numbering{
        margin: 0;
        position: absolute;
        top: 0;
        left: 0;
        width: 20px;
        padding: 0.5em 3px 0.7em 5px;
        border-right: 1px solid #C3CCD0;
        text-align: right;
        color: #AAA;
        background-color: ;
    }
    .pre-numbering.widther {
        width: 35px;
    }
</style>

<!--è‡ªå®šä¹‰æ ·å¼è®¾ç½®-->
<style>
    
    
    .nav {
        width: 542px;
    }
    .nav.fullscreen {
        margin-left: -542px;
    }
    .nav-left {
        width: 120px;
    }
    
    
    @media screen and (max-width: 1468px) {
        .nav {
            width: 492px;
        }
        .nav.fullscreen {
            margin-left: -492px;
        }
        .nav-left {
            width: 100px;
        }
    }
    
    
    @media screen and (max-width: 1024px) {
        .nav {
            width: 492px;
            margin-left: -492px
        }
        .nav.fullscreen {
            margin-left: 0;
        }
    }
    
    @media screen and (max-width: 426px) {
        .nav {
            width: 100%;
        }
        .nav-left {
            width: 100%;
        }
    }
    
    
    .nav-right .title-list nav a .post-title, .nav-right .title-list #local-search-result a .post-title {
        color: #383636;
    }
    
    
    .nav-right .title-list nav a .post-date, .nav-right .title-list #local-search-result a .post-date {
        color: #5e5e5f;
    }
    
    
    .nav-right nav a.hover, #local-search-result a.hover{
        background-color: #e2e0e0;
    }
    
    

    /*åˆ—è¡¨æ ·å¼*/
    

    /* èƒŒæ™¯å›¾æ ·å¼ */
    
    


    /*å¼•ç”¨å—æ ·å¼*/
    

    /*æ–‡ç« åˆ—è¡¨èƒŒæ™¯å›¾*/
    

    
</style>







</html>
